import type { WorkflowTemplate } from '@genfeedai/types';

export const GRID_TO_VIDEO_TEMPLATE: WorkflowTemplate = {
  createdAt: new Date().toISOString(),
  description:
    'Generate a 3x3 grid image, split into 9 cells, create video from each, apply easing, and stitch into final video',
  edgeStyle: 'smoothstep',
  edges: [
    // Prompt → ImageGen
    {
      id: 'e1',
      source: 'prompt-1',
      sourceHandle: 'text',
      target: 'imageGen-1',
      targetHandle: 'prompt',
    },
    // ImageGen → GridSplit
    {
      id: 'e2',
      source: 'imageGen-1',
      sourceHandle: 'image',
      target: 'gridSplit-1',
      targetHandle: 'image',
    },
    // GridSplit → VideoGens (9 edges)
    {
      id: 'e-split-1',
      source: 'gridSplit-1',
      sourceHandle: 'images',
      target: 'videoGen-1',
      targetHandle: 'image',
    },
    {
      id: 'e-split-2',
      source: 'gridSplit-1',
      sourceHandle: 'images',
      target: 'videoGen-2',
      targetHandle: 'image',
    },
    {
      id: 'e-split-3',
      source: 'gridSplit-1',
      sourceHandle: 'images',
      target: 'videoGen-3',
      targetHandle: 'image',
    },
    {
      id: 'e-split-4',
      source: 'gridSplit-1',
      sourceHandle: 'images',
      target: 'videoGen-4',
      targetHandle: 'image',
    },
    {
      id: 'e-split-5',
      source: 'gridSplit-1',
      sourceHandle: 'images',
      target: 'videoGen-5',
      targetHandle: 'image',
    },
    {
      id: 'e-split-6',
      source: 'gridSplit-1',
      sourceHandle: 'images',
      target: 'videoGen-6',
      targetHandle: 'image',
    },
    {
      id: 'e-split-7',
      source: 'gridSplit-1',
      sourceHandle: 'images',
      target: 'videoGen-7',
      targetHandle: 'image',
    },
    {
      id: 'e-split-8',
      source: 'gridSplit-1',
      sourceHandle: 'images',
      target: 'videoGen-8',
      targetHandle: 'image',
    },
    {
      id: 'e-split-9',
      source: 'gridSplit-1',
      sourceHandle: 'images',
      target: 'videoGen-9',
      targetHandle: 'image',
    },
    // Prompt → VideoGens (for motion prompts)
    {
      id: 'e-prompt-1',
      source: 'prompt-1',
      sourceHandle: 'text',
      target: 'videoGen-1',
      targetHandle: 'prompt',
    },
    {
      id: 'e-prompt-2',
      source: 'prompt-1',
      sourceHandle: 'text',
      target: 'videoGen-2',
      targetHandle: 'prompt',
    },
    {
      id: 'e-prompt-3',
      source: 'prompt-1',
      sourceHandle: 'text',
      target: 'videoGen-3',
      targetHandle: 'prompt',
    },
    {
      id: 'e-prompt-4',
      source: 'prompt-1',
      sourceHandle: 'text',
      target: 'videoGen-4',
      targetHandle: 'prompt',
    },
    {
      id: 'e-prompt-5',
      source: 'prompt-1',
      sourceHandle: 'text',
      target: 'videoGen-5',
      targetHandle: 'prompt',
    },
    {
      id: 'e-prompt-6',
      source: 'prompt-1',
      sourceHandle: 'text',
      target: 'videoGen-6',
      targetHandle: 'prompt',
    },
    {
      id: 'e-prompt-7',
      source: 'prompt-1',
      sourceHandle: 'text',
      target: 'videoGen-7',
      targetHandle: 'prompt',
    },
    {
      id: 'e-prompt-8',
      source: 'prompt-1',
      sourceHandle: 'text',
      target: 'videoGen-8',
      targetHandle: 'prompt',
    },
    {
      id: 'e-prompt-9',
      source: 'prompt-1',
      sourceHandle: 'text',
      target: 'videoGen-9',
      targetHandle: 'prompt',
    },
    // VideoGens → Animations
    {
      id: 'e-video-1',
      source: 'videoGen-1',
      sourceHandle: 'video',
      target: 'animation-1',
      targetHandle: 'video',
    },
    {
      id: 'e-video-2',
      source: 'videoGen-2',
      sourceHandle: 'video',
      target: 'animation-2',
      targetHandle: 'video',
    },
    {
      id: 'e-video-3',
      source: 'videoGen-3',
      sourceHandle: 'video',
      target: 'animation-3',
      targetHandle: 'video',
    },
    {
      id: 'e-video-4',
      source: 'videoGen-4',
      sourceHandle: 'video',
      target: 'animation-4',
      targetHandle: 'video',
    },
    {
      id: 'e-video-5',
      source: 'videoGen-5',
      sourceHandle: 'video',
      target: 'animation-5',
      targetHandle: 'video',
    },
    {
      id: 'e-video-6',
      source: 'videoGen-6',
      sourceHandle: 'video',
      target: 'animation-6',
      targetHandle: 'video',
    },
    {
      id: 'e-video-7',
      source: 'videoGen-7',
      sourceHandle: 'video',
      target: 'animation-7',
      targetHandle: 'video',
    },
    {
      id: 'e-video-8',
      source: 'videoGen-8',
      sourceHandle: 'video',
      target: 'animation-8',
      targetHandle: 'video',
    },
    {
      id: 'e-video-9',
      source: 'videoGen-9',
      sourceHandle: 'video',
      target: 'animation-9',
      targetHandle: 'video',
    },
    // Animations → Stitch
    {
      id: 'e-anim-1',
      source: 'animation-1',
      sourceHandle: 'video',
      target: 'stitch-1',
      targetHandle: 'videos',
    },
    {
      id: 'e-anim-2',
      source: 'animation-2',
      sourceHandle: 'video',
      target: 'stitch-1',
      targetHandle: 'videos',
    },
    {
      id: 'e-anim-3',
      source: 'animation-3',
      sourceHandle: 'video',
      target: 'stitch-1',
      targetHandle: 'videos',
    },
    {
      id: 'e-anim-4',
      source: 'animation-4',
      sourceHandle: 'video',
      target: 'stitch-1',
      targetHandle: 'videos',
    },
    {
      id: 'e-anim-5',
      source: 'animation-5',
      sourceHandle: 'video',
      target: 'stitch-1',
      targetHandle: 'videos',
    },
    {
      id: 'e-anim-6',
      source: 'animation-6',
      sourceHandle: 'video',
      target: 'stitch-1',
      targetHandle: 'videos',
    },
    {
      id: 'e-anim-7',
      source: 'animation-7',
      sourceHandle: 'video',
      target: 'stitch-1',
      targetHandle: 'videos',
    },
    {
      id: 'e-anim-8',
      source: 'animation-8',
      sourceHandle: 'video',
      target: 'stitch-1',
      targetHandle: 'videos',
    },
    {
      id: 'e-anim-9',
      source: 'animation-9',
      sourceHandle: 'video',
      target: 'stitch-1',
      targetHandle: 'videos',
    },
    // Stitch → Output
    {
      id: 'e-final',
      source: 'stitch-1',
      sourceHandle: 'video',
      target: 'output-1',
      targetHandle: 'video',
    },
  ],
  name: 'Grid to Video Pipeline',
  nodes: [
    // Input: Prompt
    {
      data: {
        label: 'Scene Prompt',
        prompt:
          'A magical forest with 9 different creatures, each in their own section. Vibrant colors, fantasy art style, detailed illustration.',
        status: 'idle',
        variables: {},
      },
      id: 'prompt-1',
      position: { x: 50, y: 400 },
      type: 'prompt',
    },
    // Image Generation
    {
      data: {
        aspectRatio: '1:1',
        inputImages: [],
        inputPrompt: null,
        jobId: null,
        label: 'Grid Image',
        model: 'nano-banana-pro',
        outputFormat: 'jpg',
        outputImage: null,
        resolution: '2K',
        status: 'idle',
      },
      id: 'imageGen-1',
      position: { x: 350, y: 400 },
      type: 'imageGen',
    },
    // Grid Split
    {
      data: {
        borderInset: 5,
        gridCols: 3,
        gridRows: 3,
        inputImage: null,
        label: 'Grid Split',
        outputFormat: 'jpg',
        outputImages: [],
        quality: 95,
        status: 'idle',
      },
      id: 'gridSplit-1',
      position: { x: 650, y: 400 },
      type: 'imageGridSplit',
    },
    // Video Generation (9 nodes)
    {
      data: {
        aspectRatio: '1:1',
        duration: 4,
        generateAudio: false,
        inputImage: null,
        inputPrompt: null,
        jobId: null,
        label: 'Video 1',
        lastFrame: null,
        model: 'veo-3.1-fast',
        negativePrompt: '',
        outputVideo: null,
        referenceImages: [],
        resolution: '1080p',
        status: 'idle',
      },
      id: 'videoGen-1',
      position: { x: 950, y: 50 },
      type: 'videoGen',
    },
    {
      data: {
        aspectRatio: '1:1',
        duration: 4,
        generateAudio: false,
        inputImage: null,
        inputPrompt: null,
        jobId: null,
        label: 'Video 2',
        lastFrame: null,
        model: 'veo-3.1-fast',
        negativePrompt: '',
        outputVideo: null,
        referenceImages: [],
        resolution: '1080p',
        status: 'idle',
      },
      id: 'videoGen-2',
      position: { x: 950, y: 150 },
      type: 'videoGen',
    },
    {
      data: {
        aspectRatio: '1:1',
        duration: 4,
        generateAudio: false,
        inputImage: null,
        inputPrompt: null,
        jobId: null,
        label: 'Video 3',
        lastFrame: null,
        model: 'veo-3.1-fast',
        negativePrompt: '',
        outputVideo: null,
        referenceImages: [],
        resolution: '1080p',
        status: 'idle',
      },
      id: 'videoGen-3',
      position: { x: 950, y: 250 },
      type: 'videoGen',
    },
    {
      data: {
        aspectRatio: '1:1',
        duration: 4,
        generateAudio: false,
        inputImage: null,
        inputPrompt: null,
        jobId: null,
        label: 'Video 4',
        lastFrame: null,
        model: 'veo-3.1-fast',
        negativePrompt: '',
        outputVideo: null,
        referenceImages: [],
        resolution: '1080p',
        status: 'idle',
      },
      id: 'videoGen-4',
      position: { x: 950, y: 350 },
      type: 'videoGen',
    },
    {
      data: {
        aspectRatio: '1:1',
        duration: 4,
        generateAudio: false,
        inputImage: null,
        inputPrompt: null,
        jobId: null,
        label: 'Video 5',
        lastFrame: null,
        model: 'veo-3.1-fast',
        negativePrompt: '',
        outputVideo: null,
        referenceImages: [],
        resolution: '1080p',
        status: 'idle',
      },
      id: 'videoGen-5',
      position: { x: 950, y: 450 },
      type: 'videoGen',
    },
    {
      data: {
        aspectRatio: '1:1',
        duration: 4,
        generateAudio: false,
        inputImage: null,
        inputPrompt: null,
        jobId: null,
        label: 'Video 6',
        lastFrame: null,
        model: 'veo-3.1-fast',
        negativePrompt: '',
        outputVideo: null,
        referenceImages: [],
        resolution: '1080p',
        status: 'idle',
      },
      id: 'videoGen-6',
      position: { x: 950, y: 550 },
      type: 'videoGen',
    },
    {
      data: {
        aspectRatio: '1:1',
        duration: 4,
        generateAudio: false,
        inputImage: null,
        inputPrompt: null,
        jobId: null,
        label: 'Video 7',
        lastFrame: null,
        model: 'veo-3.1-fast',
        negativePrompt: '',
        outputVideo: null,
        referenceImages: [],
        resolution: '1080p',
        status: 'idle',
      },
      id: 'videoGen-7',
      position: { x: 950, y: 650 },
      type: 'videoGen',
    },
    {
      data: {
        aspectRatio: '1:1',
        duration: 4,
        generateAudio: false,
        inputImage: null,
        inputPrompt: null,
        jobId: null,
        label: 'Video 8',
        lastFrame: null,
        model: 'veo-3.1-fast',
        negativePrompt: '',
        outputVideo: null,
        referenceImages: [],
        resolution: '1080p',
        status: 'idle',
      },
      id: 'videoGen-8',
      position: { x: 950, y: 750 },
      type: 'videoGen',
    },
    {
      data: {
        aspectRatio: '1:1',
        duration: 4,
        generateAudio: false,
        inputImage: null,
        inputPrompt: null,
        jobId: null,
        label: 'Video 9',
        lastFrame: null,
        model: 'veo-3.1-fast',
        negativePrompt: '',
        outputVideo: null,
        referenceImages: [],
        resolution: '1080p',
        status: 'idle',
      },
      id: 'videoGen-9',
      position: { x: 950, y: 850 },
      type: 'videoGen',
    },
    // Animation (9 nodes)
    {
      data: {
        curveType: 'preset',
        customCurve: [0.645, 0.045, 0.355, 1],
        inputVideo: null,
        label: 'Anim 1',
        outputVideo: null,
        preset: 'easeInOutCubic',
        speedMultiplier: 1,
        status: 'idle',
      },
      id: 'animation-1',
      position: { x: 1250, y: 50 },
      type: 'animation',
    },
    {
      data: {
        curveType: 'preset',
        customCurve: [0.645, 0.045, 0.355, 1],
        inputVideo: null,
        label: 'Anim 2',
        outputVideo: null,
        preset: 'easeInOutCubic',
        speedMultiplier: 1,
        status: 'idle',
      },
      id: 'animation-2',
      position: { x: 1250, y: 150 },
      type: 'animation',
    },
    {
      data: {
        curveType: 'preset',
        customCurve: [0.645, 0.045, 0.355, 1],
        inputVideo: null,
        label: 'Anim 3',
        outputVideo: null,
        preset: 'easeInOutCubic',
        speedMultiplier: 1,
        status: 'idle',
      },
      id: 'animation-3',
      position: { x: 1250, y: 250 },
      type: 'animation',
    },
    {
      data: {
        curveType: 'preset',
        customCurve: [0.645, 0.045, 0.355, 1],
        inputVideo: null,
        label: 'Anim 4',
        outputVideo: null,
        preset: 'easeInOutCubic',
        speedMultiplier: 1,
        status: 'idle',
      },
      id: 'animation-4',
      position: { x: 1250, y: 350 },
      type: 'animation',
    },
    {
      data: {
        curveType: 'preset',
        customCurve: [0.645, 0.045, 0.355, 1],
        inputVideo: null,
        label: 'Anim 5',
        outputVideo: null,
        preset: 'easeInOutCubic',
        speedMultiplier: 1,
        status: 'idle',
      },
      id: 'animation-5',
      position: { x: 1250, y: 450 },
      type: 'animation',
    },
    {
      data: {
        curveType: 'preset',
        customCurve: [0.645, 0.045, 0.355, 1],
        inputVideo: null,
        label: 'Anim 6',
        outputVideo: null,
        preset: 'easeInOutCubic',
        speedMultiplier: 1,
        status: 'idle',
      },
      id: 'animation-6',
      position: { x: 1250, y: 550 },
      type: 'animation',
    },
    {
      data: {
        curveType: 'preset',
        customCurve: [0.645, 0.045, 0.355, 1],
        inputVideo: null,
        label: 'Anim 7',
        outputVideo: null,
        preset: 'easeInOutCubic',
        speedMultiplier: 1,
        status: 'idle',
      },
      id: 'animation-7',
      position: { x: 1250, y: 650 },
      type: 'animation',
    },
    {
      data: {
        curveType: 'preset',
        customCurve: [0.645, 0.045, 0.355, 1],
        inputVideo: null,
        label: 'Anim 8',
        outputVideo: null,
        preset: 'easeInOutCubic',
        speedMultiplier: 1,
        status: 'idle',
      },
      id: 'animation-8',
      position: { x: 1250, y: 750 },
      type: 'animation',
    },
    {
      data: {
        curveType: 'preset',
        customCurve: [0.645, 0.045, 0.355, 1],
        inputVideo: null,
        label: 'Anim 9',
        outputVideo: null,
        preset: 'easeInOutCubic',
        speedMultiplier: 1,
        status: 'idle',
      },
      id: 'animation-9',
      position: { x: 1250, y: 850 },
      type: 'animation',
    },
    // Video Stitch
    {
      data: {
        audioCodec: 'aac',
        inputVideos: [],
        label: 'Video Stitcher',
        outputQuality: 'full',
        outputVideo: null,
        seamlessLoop: false,
        status: 'idle',
        transitionDuration: 0.3,
        transitionType: 'crossfade',
      },
      id: 'stitch-1',
      position: { x: 1550, y: 400 },
      type: 'videoStitch',
    },
    // Output
    {
      data: {
        inputMedia: null,
        inputType: 'video',
        label: 'Final Video',
        outputName: 'grid-to-video-output',
        status: 'idle',
      },
      id: 'output-1',
      position: { x: 1850, y: 400 },
      type: 'download',
    },
  ],
  updatedAt: new Date().toISOString(),
  version: 1,
};
